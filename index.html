<!DOCTPYE html>

<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Rock-Paper-Scissors</title>
  </head>

  <body>
    <script>


      function getComputerChoice() {
        const choices = ["Rock", "Paper", "Scissors"];
        return (choices[(Math.floor(Math.random() * choices.length))]);            
      }
      

      function playRound(playerSelection, computerSelection) {
        if (playerSelection.toLowerCase() == "rock" && computerSelection == "Scissors") {
          playerWins += 1;
          return "You win! Rock beats Scissors";          
        } else if (playerSelection.toLowerCase() == "rock" && computerSelection == "Paper") {
          playerLosses += 1;
          return "You lose! Paper beats Rock";          
        } else if (playerSelection.toLowerCase() == "rock" && computerSelection == "Rock") {
          return "It\'s a tie! We both chose Rock"
        } else if (playerSelection.toLowerCase() == "paper" && computerSelection == "Rock") {
          playerWins += 1;
          return "You win! Paper beats Rock";          
        } else if (playerSelection.toLowerCase() == "paper" && computerSelection == "Scissors") {
          playerLosses += 1;
          return "You lose! Scissors beats Paper";          
        } else if (playerSelection.toLowerCase() == "paper" && computerSelection == "Paper") {
          return "It\'s a tie! We both chose Paper"
        } else if (playerSelection.toLowerCase() == "scissors" && computerSelection == "Paper") {
          playerWins += 1;
          return "You win! Scissors beats Paper";          
        } else if (playerSelection.toLowerCase() == "scissors" && computerSelection == "Rock") {
          playerLosses += 1;
          return "You lose! Rock beats Scissors";          
        } else if (playerSelection.toLowerCase() == "scissors" && computerSelection == "Scissors") {
          return "It\'s a tie! We both chose Scissors"
        } else {
          return "Something went wrong, please try again! Make sure to only enter 'Rock', 'Paper' or 'Scissors'."
        }
      }

      function game() {
        while (playerWins < 3 && playerLosses < 3) {
          let playerSelection = prompt("Please enter your Move (Rock, Paper or Scissors)");
          let computerSelection = getComputerChoice();
          console.log(computerSelection);
          console.log(playRound(playerSelection, computerSelection));
          console.log(playerWins);
          console.log(playerLosses);
        }
        if (playerWins > playerLosses) {
          endNote = "You\'ve won, congratulations!";
        } else if (playerWins < playerLosses) {
          endNote = "You\'ve lost. Next time you\'ll get that darned machine!";
        } else {
          endNote = "Something went wrong, sorry!";
        }
        console.log(endNote);
      }

      let playerWins = 0;
      let playerLosses = 0;
      let endNote;

      game();
      
    </script>
  </body>
</html>